"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react=require("react"),InjectionToken=function(){function e(e){void 0===e&&(e=""),this.key=new String(e)}return e.prototype.toString=function(){return"InjectionToken("+this.key+")"},e}(),ClearableWeakMap=function(){function e(e){this._wm=new WeakMap(e)}return e.prototype.clear=function(){this._wm=new WeakMap},e.prototype.get=function(e){return this._wm.get(e)},e.prototype.has=function(e){return this._wm.has(e)},e.prototype.set=function(e,n){return this._wm.set(e,n),this},e}(),mappings=new ClearableWeakMap([]);function useInject(e){return react.useMemo(function(){return inject(e)},[e])}function inject(e){if(!mappings.has(e))throw new Error("Injectables have to be provided in a module.");return mappings.get(e)}function isSingleProvider(e){return!("initValue"in e||"initFactory"in e||"initClass"in e)}function preprocessProvider(e){return isSingleProvider(e)?{initClass:e,provider:e}:e}function DefineModule(e){for(var n=0,t=e;n<t.length;n++){var i=preprocessProvider(t[n]),r=i.provider;"initClass"in i?mappings.set(r,new i.initClass):"initValue"in i?mappings.set(r,i.initValue):"initFactory"in i&&mappings.set(r,i.initFactory())}}function GenerateTestBed(e){return mappings.clear(),DefineModule(e)}exports.DefineModule=DefineModule,exports.GenerateTestBed=GenerateTestBed,exports.InjectionToken=InjectionToken,exports.inject=inject,exports.useInject=useInject;
